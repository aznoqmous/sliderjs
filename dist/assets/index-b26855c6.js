(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();class l extends EventTarget{constructor(t,e={}){super(),!t[this.constructor.name]&&(this.container=t,this.container[this.constructor.name]=this,this.opts=e,this.build(),this.bind(),this.start())}build(){}bind(){}start(){}select(t){return this.container.querySelector(t)}selectAll(t){return Array.from(this.container.querySelectorAll(t))}create(t="div",e={},s=null){const i=document.createElement(t);for(let n in e)i[n]=e[n];return s&&s.append(i),i}static bind(t,e={}){document.querySelectorAll(t).forEach(s=>new this(s,e))}}class a{static clamp(t,e=0,s=1){return Math.min(s,Math.max(e,t))}static lerp(t,e,s){return s=this.clamp(s),(1-s)*t+s*e}static randomRange(t,e){return this.lerp(t,e,Math.random())}}class c extends l{constructor(t,e={}){super(t,Object.assign({itemsContainer:null,itemsParent:null,items:null,transition:"transform 0.4s cubic-bezier(0.25,1,0.5,1) 0s",mouse:!0,touch:!0,clickDragTimeout:250,minDragDistance:30,loop:!1,autoHeight:!1,autoPlay:!1,clamp:!1},e)),this._loop()}build(){this.itemsContainer=this.opts.itemsContainer?this.select(this.opts.itemsContainer):this.container,this.itemsParent=this.opts.itemsParent?this.select(this.opts.itemsParent):this.itemsContainer.children[0],this.items=this.opts.items?this.selectAll(this.opts.items):Array.from(this.itemsParent.children),this.touchStartX=null,this.targetLeft=0,this.autoSwipeMin=20,this.autoSwipeMax=window.innerWidth/3,this.itemsContainer.classList.add("slider"),this.items.map(t=>t.classList.add("slider-item")),this.offset=0,this.defaultItems=Array.from(this.items),this.update(),this.offsetX=this.parentRect.left-this.containerRect.left,this.initialActiveItem=this.select(".active")||this.items[0],this.unfloorLeft(),this.setItem(this.initialActiveItem),this.applyLeft(),this.opts.loop&&this.buildLoop(),this.opts.autoPlay&&this.autoPlay()}get itemsCount(){return this.defaultItems.length}get isDrag(){return this.touchDistX>this.opts.minDragDistance}get touchDistX(){return this.lastX?Math.abs(this.lastX-this.touchStartX):0}bind(){this.opts.touch&&this.bindTouch(),this.opts.mouse&&this.bindMouse(),this.lastWindowWidth=window.innerWidth,window.addEventListener("resize",()=>{this.lastWindowWidth!=window.innerWidth&&this.updateContainerSize(),this.lastWindowWidth=window.innerWidth})}bindItems(t,e){this.items.map(s=>s.addEventListener(t,i=>e(i,this.items.indexOf(s)))),this.addEventListener(r.AddItemEvent,s=>{s.addEventListener(t,i=>e(i,this.items.indexOf(s)))})}bindMouse(){this.bindItems("mousedown",(e,s)=>{this.moved=!1,this.mouseDownTime=performance.now(),this.mouseDownItem=this.items[s],this.unfloorLeft(),window.addEventListener("mousemove",t)}),this.bindItems("click",e=>{this.moved&&e.preventDefault()});const t=e=>{this.moved=!0,this.lastX||(this.touchStartX=e.clientX,this.lastX=this.touchStartX),this.targetLeft+=this.lastX-e.clientX,this.applyLeft(),this.lastX=e.clientX};this.itemsContainer.addEventListener("mouseup",()=>{!this.lastX&&!this.mouseDownItem||(this.isDrag?this.play():(this.setItem(this.mouseDownItem),this.floorLeft()),this.mouseDownItem=null,this.lastX=null,window.removeEventListener("mousemove",t))}),this.itemsContainer.addEventListener("mouseenter",()=>{this.stopAutoPlay()}),this.itemsContainer.addEventListener("mouseleave",()=>{this.opts.autoPlay&&this.autoPlay(),this.lastX&&(this.play(),this.mouseDownItem=null,this.lastX=null,window.removeEventListener("mousemove",t))})}_loop(){this.mouseDownItem||(this.currentOffsetX=this.items[0].getBoundingClientRect().left,Math.abs(this.currentOffsetX-this._lastOffsetX)<1?this._loopFloored||(this.setNearestTarget(),this.floorLeft(),this._loopFloored=!0,this.opts.loop&&this.balanceLoop()):this._loopFloored=!1,this._lastOffsetX=this.currentOffsetX),requestAnimationFrame(this._loop.bind(this))}balanceLoop(){this.unfloorLeft(),this.setItem(this.activeItem),this.applyLeft(),this.currentOffsetX=this.items[0].getBoundingClientRect().left,this.update();const t=this.containerRect.left+this.containerRect.width/2,e=t-this.parentRect.left,s=this.parentRect.left+this.parentRect.width-t,i=Math.abs(e-s);if(e<s){const n=this.items[this.items.length-1];n.getBoundingClientRect().width<i/2&&(this.itemsParent.prepend(n),this.items=Array.from(this.itemsParent.children),this.balanceLoop())}else{const n=this.items[0];n.getBoundingClientRect().width<i/2&&(this.itemsParent.append(n),this.items=Array.from(this.itemsParent.children),this.balanceLoop())}}bindTouch(){this.bindItems("touchstart",t=>{this.touchStartX=t.touches[0].clientX,this.lastX=this.touchStartX,this.unfloorLeft()}),this.itemsContainer.addEventListener("touchmove",t=>{this.targetLeft+=this.lastX-t.touches[0].clientX,this.applyLeft(),this.lastX=t.touches[0].clientX},{passive:!1}),this.itemsContainer.addEventListener("touchend",()=>{this.play()})}setIndex(t){this._setIndex(t),this.floorLeft()}prev(){this._setIndex(this.activeIndex-1),this.floorLeft()}next(){this._setIndex(this.activeIndex+1),this.floorLeft()}play(t=0){this.offset=t,this.containerRect=this.itemsContainer.getBoundingClientRect(),this.setNearestTarget(),this.floorLeft()}setNearestTarget(){if(this.opts.clamp&&!this.isDrag)return;const t=this.items.map(n=>(n.rect=n.getBoundingClientRect(),n.rect.left+n.rect.width/2-this.containerRect.width/2-this.containerRect.left)),s=Array.from(t).sort((n,o)=>Math.abs(n)-Math.abs(o))[0],i=t.indexOf(s);this._setIndex(i+this.offset)}setItem(t){this.activeItem!==t&&this._setIndex(this.items.indexOf(t))}_setIndex(t){const e=this.activeIndex;this.activeIndex=a.clamp(t,0,this.items.length-1),this.activeItem=this.items[this.activeIndex],this.activeItem.rect=this.activeItem.getBoundingClientRect(),this.targetLeft=this.activeItem.rect.left+this.activeItem.rect.width/2-this.containerRect.width/2-this.containerRect.left+this.targetLeft,this.opts.clamp&&(this.targetLeft=a.clamp(this.targetLeft,0,this.parentRect.width-this.containerRect.width+this.offsetX*2)),this.opts.autoHeight&&(this.itemsContainer.style.height=this.activeItem.getBoundingClientRect().height+"px"),this.activeIndex!==e&&this.dispatchEvent(new d(this.activeItem,this.activeIndex))}applyLeft(){this.itemsParent.style.transform=`translateX(${-this.targetLeft}px)`}unfloorLeft(){this.itemsParent.style.transition=null,this.itemsParent.style.userSelect="none"}floorLeft(){this.applyLeft(),this.itemsParent.style.transition=this.opts.transition,this.itemsParent.style.userSelect=null,this.items.map(t=>t.classList.toggle("active",this.activeItem==t)),this.items.map(t=>t.classList.toggle("visible",t.rect.left+t.rect.width>this.containerRect.left&&t.rect.left<this.containerRect.left+this.containerRect.width))}update(){this.updateItemsRect(),this.updateContainerSize()}updateItemsRect(){this.items.map(t=>t.rect=t.getBoundingClientRect())}updateContainerSize(){this.containerRect=this.itemsContainer.getBoundingClientRect(),this.parentRect=this.itemsParent.getBoundingClientRect(),this.container.style.setProperty("--container-width",this.containerRect.width+"px"),this.container.style.setProperty("--container-height",this.containerRect.height+"px")}stopAutoPlay(){this.autoPlayTimeout&&clearTimeout(this.autoPlayTimeout)}autoPlay(){this.stopAutoPlay(),this.autoPlayTimeout=setTimeout(()=>{this.next(),this.autoPlay()},this.opts.autoPlay*1e3)}buildLoop(){const t=()=>{this.cloneItems(),this.update(),this.parentRect.width/4<window.innerWidth&&t()};t(),this.setItem(this.items[this.activeIndex+this.defaultItems.length]),this.applyLeft()}cloneItems(){this.defaultItems.map(t=>this.addItem(t.cloneNode(!0)))}addItem(t){this.items.push(t),this.itemsParent.append(t),this.dispatchEvent(new m(t))}}const r={ChangeEvent:"sliderChange",AddItemEvent:"sliderAddItem"};class d extends Event{constructor(t,e){super(r.ChangeEvent),this.item=t,this.index=e}}class m extends Event{constructor(t){super(r.AddItemEvent),this.item=t}}window.Slider=c;
//# sourceMappingURL=index-b26855c6.js.map
